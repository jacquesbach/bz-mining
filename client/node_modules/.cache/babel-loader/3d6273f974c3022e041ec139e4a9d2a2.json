{"remainingRequest":"/Users/jakobbach/Documents/bzmining/client/node_modules/babel-loader/lib/index.js!/Users/jakobbach/Documents/bzmining/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jakobbach/Documents/bzmining/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jakobbach/Documents/bzmining/client/src/components/chart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jakobbach/Documents/bzmining/client/src/components/chart.vue","mtime":1589705747473},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnYXJ0aWNsZXNhdHRyaWJ1dGUnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhcnQ6IG51bGwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgYXJ0aWNsZXNhdHRyaWJ1dGU6IGZ1bmN0aW9uIGFydGljbGVzYXR0cmlidXRlKHZhbCkgewogICAgICBpZiAodGhpcy5jaGFydCAhPSBudWxsKSB0aGlzLmNoYXJ0LnJlbW92ZSgpOwogICAgICB0aGlzLnJlbmRlckNoYXJ0KHZhbCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW5kZXJDaGFydDogZnVuY3Rpb24gcmVuZGVyQ2hhcnQoaXNzdWVzVmFsKSB7CiAgICAgIHZhciBtYXJnaW4gPSA2MDsKICAgICAgdmFyIHN2Z1dpZHRoID0gODAwOwogICAgICB2YXIgc3ZnSGVpZ2h0ID0gNTAwOwogICAgICB2YXIgY2hhcnRXaWR0aCA9IDgwMCAtIDIgKiBtYXJnaW47CiAgICAgIHZhciBjaGFydEhlaWdodCA9IDUwMCAtIDIgKiBtYXJnaW47CiAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoJ3N2ZycpLmF0dHIoJ3dpZHRoJywgc3ZnV2lkdGgpLmF0dHIoJ2hlaWdodCcsIHN2Z0hlaWdodCk7CiAgICAgIHRoaXMuY2hhcnQgPSBzdmcuYXBwZW5kKCdnJykuYXR0cigndHJhbnNmb3JtJywgInRyYW5zbGF0ZSgiLmNvbmNhdChtYXJnaW4sICIsICIpLmNvbmNhdChtYXJnaW4sICIpIikpOwogICAgICB2YXIgeVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbY2hhcnRIZWlnaHQsIDBdKS5kb21haW4oWzAsIF8ubWF4QnkoaXNzdWVzVmFsLCAnY291bnQnKS5jb3VudF0pOwogICAgICB0aGlzLmNoYXJ0LmFwcGVuZCgnZycpLmNhbGwoZDMuYXhpc0xlZnQoeVNjYWxlKS50aWNrcygxMCkpOwogICAgICB2YXIgeFNjYWxlID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIGNoYXJ0V2lkdGhdKS5kb21haW4oaXNzdWVzVmFsLm1hcChmdW5jdGlvbiAocykgewogICAgICAgIHJldHVybiBzLmRhdGU7CiAgICAgIH0pKS5wYWRkaW5nKDAuMik7CiAgICAgIHRoaXMuY2hhcnQuYXBwZW5kKCdnJykuYXR0cigndHJhbnNmb3JtJywgInRyYW5zbGF0ZSgwLCAiLmNvbmNhdChjaGFydEhlaWdodCwgIikiKSkuY2FsbChkMy5heGlzQm90dG9tKHhTY2FsZSkpOwogICAgICB2YXIgYmFyR3JvdXBzID0gdGhpcy5jaGFydC5zZWxlY3RBbGwoJ3JlY3QnKS5kYXRhKGlzc3Vlc1ZhbCkuZW50ZXIoKTsKICAgICAgYmFyR3JvdXBzLmFwcGVuZCgncmVjdCcpLmF0dHIoJ2NsYXNzJywgJ2JhcicpLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZykgewogICAgICAgIHJldHVybiB4U2NhbGUoZy5kYXRlKTsKICAgICAgfSkuYXR0cigneScsIGZ1bmN0aW9uIChnKSB7CiAgICAgICAgcmV0dXJuIHlTY2FsZShnLmNvdW50KTsKICAgICAgfSkuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24gKGcpIHsKICAgICAgICByZXR1cm4gY2hhcnRIZWlnaHQgLSB5U2NhbGUoZy5jb3VudCk7CiAgICAgIH0pLmF0dHIoJ3dpZHRoJywgeFNjYWxlLmJhbmR3aWR0aCgpKS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChhY3R1YWwsIGkpIHsKICAgICAgICBkMy5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpLmR1cmF0aW9uKDMwMCkuYXR0cignb3BhY2l0eScsIDAuNikuYXR0cigneCcsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICByZXR1cm4geFNjYWxlKGEuZGF0ZSkgLSA1OwogICAgICAgIH0pLmF0dHIoJ3dpZHRoJywgeFNjYWxlLmJhbmR3aWR0aCgpICsgMTApOwogICAgICAgIGJhckdyb3Vwcy5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICd2YWx1ZScpLmF0dHIoJ3gnLCBmdW5jdGlvbiAoYSkgewogICAgICAgICAgcmV0dXJuIHhTY2FsZShhLmRhdGUpICsgeFNjYWxlLmJhbmR3aWR0aCgpIC8gNDsKICAgICAgICB9KS5hdHRyKCd5JywgZnVuY3Rpb24gKGEpIHsKICAgICAgICAgIHJldHVybiB5U2NhbGUoYS5jb3VudCkgLSAyMDsKICAgICAgICB9KS5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKS50ZXh0KGZ1bmN0aW9uIChhLCBpZHgpIHsKICAgICAgICAgIHJldHVybiBpZHggIT09IGkgPyAnJyA6ICIiLmNvbmNhdChhLmNvdW50LCAiIEFydGlrZWwgYW0gIikuY29uY2F0KGEuZGF0ZSk7CiAgICAgICAgfSk7CiAgICAgIH0pLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkgewogICAgICAgIGQzLnNlbGVjdEFsbCgnLmNvdW50JykuYXR0cignb3BhY2l0eScsIDEpOwogICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMzAwKS5hdHRyKCdvcGFjaXR5JywgMSkuYXR0cigneCcsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICByZXR1cm4geFNjYWxlKGEuZGF0ZSk7CiAgICAgICAgfSkuYXR0cignd2lkdGgnLCB4U2NhbGUuYmFuZHdpZHRoKCkpOwogICAgICAgIHN2Zy5zZWxlY3RBbGwoJy52YWx1ZScpLnJlbW92ZSgpOwogICAgICB9KTsKICAgICAgc3ZnLmFwcGVuZCgndGV4dCcpLmF0dHIoJ2NsYXNzJywgJ2xhYmVsJykuYXR0cigneCcsIC0oY2hhcnRIZWlnaHQgLyAyKSAtIG1hcmdpbikuYXR0cigneScsIG1hcmdpbiAvIDIuNCkuYXR0cigndHJhbnNmb3JtJywgJ3JvdGF0ZSgtOTApJykuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJykudGV4dCgnVmVyw7ZmZmVudGxpY2h0ZSBBcnRpa2VsJyk7CiAgICAgIHN2Zy5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICdsYWJlbCcpLmF0dHIoJ3gnLCBjaGFydFdpZHRoIC8gMiArIG1hcmdpbikuYXR0cigneScsIGNoYXJ0SGVpZ2h0ICsgbWFyZ2luICogMS43KS5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKS50ZXh0KCdEYXR1bScpOwogICAgICBzdmcuYXBwZW5kKCd0ZXh0JykuYXR0cignY2xhc3MnLCAndGl0bGUnKS5hdHRyKCd4JywgY2hhcnRXaWR0aCAvIDIgKyBtYXJnaW4pLmF0dHIoJ3knLCA0MCkuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJykudGV4dCgnVmVyw7ZmZmVudGxpY2h0ZSBBcnRpa2VsIHNlaXQgZGVtIDguMi4yMDIwJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["chart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <svg></svg>\n  </div>\n</template>\n\n<script>\nimport * as d3 from 'd3';\nimport _ from 'lodash';\n\nexport default {\n  props: ['articlesattribute'],\n  data() {\n    return {\n      chart: null,\n    };\n  },\n  watch: {\n    articlesattribute(val) {\n      if (this.chart != null) this.chart.remove();\n      this.renderChart(val);\n    },\n  },\n  methods: {\n    renderChart(issuesVal) {\n      const margin = 60;\n      const svgWidth = 800;\n      const svgHeight = 500;\n      const chartWidth = 800 - 2 * margin;\n      const chartHeight = 500 - 2 * margin;\n      const svg = d3\n        .select('svg')\n        .attr('width', svgWidth)\n        .attr('height', svgHeight);\n      this.chart = svg\n        .append('g')\n        .attr('transform', `translate(${margin}, ${margin})`);\n      const yScale = d3\n        .scaleLinear()\n        .range([chartHeight, 0])\n        .domain([0, _.maxBy(issuesVal, 'count').count]);\n      this.chart\n        .append('g')\n        .call(d3.axisLeft(yScale).ticks(10));\n      const xScale = d3\n        .scaleBand()\n        .range([0, chartWidth])\n        .domain(issuesVal.map((s) => s.date))\n        .padding(0.2);\n      this.chart\n        .append('g')\n        .attr('transform', `translate(0, ${chartHeight})`)\n        .call(d3.axisBottom(xScale));\n      const barGroups = this.chart\n        .selectAll('rect')\n        .data(issuesVal)\n        .enter();\n      barGroups\n        .append('rect')\n        .attr('class', 'bar')\n        .attr('x', (g) => xScale(g.date))\n        .attr('y', (g) => yScale(g.count))\n        .attr('height', (g) => chartHeight - yScale(g.count))\n        .attr('width', xScale.bandwidth())\n        .on('mouseenter', function (actual, i) {\n          d3.select(this)\n            .transition()\n            .duration(300)\n            .attr('opacity', 0.6)\n            .attr('x', (a) => xScale(a.date) - 5)\n            .attr('width', xScale.bandwidth() + 10);\n          barGroups\n            .append('text')\n            .attr('class', 'value')\n            .attr('x', (a) => xScale(a.date) + xScale.bandwidth() / 4)\n            .attr('y', (a) => yScale(a.count) - 20)\n            .attr('text-anchor', 'middle')\n            .text((a, idx) => (idx !== i ? '' : `${a.count} Artikel am ${a.date}`));\n        })\n        .on('mouseleave', function () {\n          d3.selectAll('.count').attr('opacity', 1);\n          d3.select(this)\n            .transition()\n            .duration(300)\n            .attr('opacity', 1)\n            .attr('x', (a) => xScale(a.date))\n            .attr('width', xScale.bandwidth());\n          svg.selectAll('.value').remove();\n        });\n      svg\n        .append('text')\n        .attr('class', 'label')\n        .attr('x', -(chartHeight / 2) - margin)\n        .attr('y', margin / 2.4)\n        .attr('transform', 'rotate(-90)')\n        .attr('text-anchor', 'middle')\n        .text('Veröffentlichte Artikel');\n      svg\n        .append('text')\n        .attr('class', 'label')\n        .attr('x', chartWidth / 2 + margin)\n        .attr('y', chartHeight + margin * 1.7)\n        .attr('text-anchor', 'middle')\n        .text('Datum');\n      svg\n        .append('text')\n        .attr('class', 'title')\n        .attr('x', chartWidth / 2 + margin)\n        .attr('y', 40)\n        .attr('text-anchor', 'middle')\n        .text('Veröffentlichte Artikel seit dem 8.2.2020');\n    },\n  },\n};\n</script>\n\n/* eslint-disable camelcase */\n"],"sourceRoot":"src/components"}]}