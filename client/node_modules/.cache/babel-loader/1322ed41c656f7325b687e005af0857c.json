{"remainingRequest":"/Users/jakobbach/Documents/bzmining/client/node_modules/babel-loader/lib/index.js!/Users/jakobbach/Documents/bzmining/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jakobbach/Documents/bzmining/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jakobbach/Documents/bzmining/client/src/components/chart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jakobbach/Documents/bzmining/client/src/components/chart.vue","mtime":1589488394994},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZDMgZnJvbSAiZDMiOwppbXBvcnQgXyBmcm9tICJsb2Rhc2giOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsiaXNzdWVzIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXJ0OiBudWxsCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGlzc3VlczogZnVuY3Rpb24gaXNzdWVzKHZhbCkgewogICAgICBpZiAodGhpcy5jaGFydCAhPSBudWxsKSB0aGlzLmNoYXJ0LnJlbW92ZSgpOwogICAgICB0aGlzLnJlbmRlckNoYXJ0KHZhbCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW5kZXJDaGFydDogZnVuY3Rpb24gcmVuZGVyQ2hhcnQoaXNzdWVzX3ZhbCkgewogICAgICB2YXIgbWFyZ2luID0gNjA7CiAgICAgIHZhciBzdmdfd2lkdGggPSAxMDAwOwogICAgICB2YXIgc3ZnX2hlaWdodCA9IDYwMDsKICAgICAgdmFyIGNoYXJ0X3dpZHRoID0gMTAwMCAtIDIgKiBtYXJnaW47CiAgICAgIHZhciBjaGFydF9oZWlnaHQgPSA2MDAgLSAyICogbWFyZ2luOwogICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCJzdmciKS5hdHRyKCJ3aWR0aCIsIHN2Z193aWR0aCkuYXR0cigiaGVpZ2h0Iiwgc3ZnX2hlaWdodCk7CiAgICAgIHRoaXMuY2hhcnQgPSBzdmcuYXBwZW5kKCJnIikuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiLmNvbmNhdChtYXJnaW4sICIsICIpLmNvbmNhdChtYXJnaW4sICIpIikpOwogICAgICB2YXIgeVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbY2hhcnRfaGVpZ2h0LCAwXSkuZG9tYWluKFswLCBfLm1heEJ5KGlzc3Vlc192YWwsICJpc3N1ZXMiKS5pc3N1ZXNdKTsKICAgICAgdGhpcy5jaGFydC5hcHBlbmQoImciKS5jYWxsKGQzLmF4aXNMZWZ0KHlTY2FsZSkudGlja3MoXy5tYXhCeShpc3N1ZXNfdmFsLCAiaXNzdWVzIikuaXNzdWVzKSk7CiAgICAgIHZhciB4U2NhbGUgPSBkMy5zY2FsZUJhbmQoKS5yYW5nZShbMCwgY2hhcnRfd2lkdGhdKS5kb21haW4oaXNzdWVzX3ZhbC5tYXAoZnVuY3Rpb24gKHMpIHsKICAgICAgICByZXR1cm4gcy5kYXk7CiAgICAgIH0pKS5wYWRkaW5nKDAuMik7CiAgICAgIHRoaXMuY2hhcnQuYXBwZW5kKCJnIikuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgwLCAiLmNvbmNhdChjaGFydF9oZWlnaHQsICIpIikpLmNhbGwoZDMuYXhpc0JvdHRvbSh4U2NhbGUpKTsKICAgICAgdmFyIGJhckdyb3VwcyA9IHRoaXMuY2hhcnQuc2VsZWN0QWxsKCJyZWN0IikuZGF0YShpc3N1ZXNfdmFsKS5lbnRlcigpOwogICAgICBiYXJHcm91cHMuYXBwZW5kKCJyZWN0IikuYXR0cigiY2xhc3MiLCAiYmFyIikuYXR0cigieCIsIGZ1bmN0aW9uIChnKSB7CiAgICAgICAgcmV0dXJuIHhTY2FsZShnLmRheSk7CiAgICAgIH0pLmF0dHIoInkiLCBmdW5jdGlvbiAoZykgewogICAgICAgIHJldHVybiB5U2NhbGUoZy5pc3N1ZXMpOwogICAgICB9KS5hdHRyKCJoZWlnaHQiLCBmdW5jdGlvbiAoZykgewogICAgICAgIHJldHVybiBjaGFydF9oZWlnaHQgLSB5U2NhbGUoZy5pc3N1ZXMpOwogICAgICB9KS5hdHRyKCJ3aWR0aCIsIHhTY2FsZS5iYW5kd2lkdGgoKSkub24oIm1vdXNlZW50ZXIiLCBmdW5jdGlvbiAoYWN0dWFsLCBpKSB7CiAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigzMDApLmF0dHIoIm9wYWNpdHkiLCAwLjYpLmF0dHIoIngiLCBmdW5jdGlvbiAoYSkgewogICAgICAgICAgcmV0dXJuIHhTY2FsZShhLmRheSkgLSA1OwogICAgICAgIH0pLmF0dHIoIndpZHRoIiwgeFNjYWxlLmJhbmR3aWR0aCgpICsgMTApOwogICAgICAgIGJhckdyb3Vwcy5hcHBlbmQoInRleHQiKS5hdHRyKCJjbGFzcyIsICJ2YWx1ZSIpLmF0dHIoIngiLCBmdW5jdGlvbiAoYSkgewogICAgICAgICAgcmV0dXJuIHhTY2FsZShhLmRheSkgKyB4U2NhbGUuYmFuZHdpZHRoKCkgLyAyOwogICAgICAgIH0pLmF0dHIoInkiLCBmdW5jdGlvbiAoYSkgewogICAgICAgICAgcmV0dXJuIHlTY2FsZShhLmlzc3VlcykgLSAyMDsKICAgICAgICB9KS5hdHRyKCJ0ZXh0LWFuY2hvciIsICJtaWRkbGUiKS50ZXh0KGZ1bmN0aW9uIChhLCBpZHgpIHsKICAgICAgICAgIHJldHVybiBpZHggIT09IGkgPyAiIiA6ICIiLmNvbmNhdChhLmlzc3VlcywgIiBpc3N1ZXMiKTsKICAgICAgICB9KTsKICAgICAgfSkub24oIm1vdXNlbGVhdmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZDMuc2VsZWN0QWxsKCIuaXNzdWVzIikuYXR0cigib3BhY2l0eSIsIDEpOwogICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMzAwKS5hdHRyKCJvcGFjaXR5IiwgMSkuYXR0cigieCIsIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICByZXR1cm4geFNjYWxlKGEuZGF5KTsKICAgICAgICB9KS5hdHRyKCJ3aWR0aCIsIHhTY2FsZS5iYW5kd2lkdGgoKSk7CiAgICAgICAgc3ZnLnNlbGVjdEFsbCgiLnZhbHVlIikucmVtb3ZlKCk7CiAgICAgIH0pOwogICAgICBzdmcuYXBwZW5kKCJ0ZXh0IikuYXR0cigiY2xhc3MiLCAibGFiZWwiKS5hdHRyKCJ4IiwgLShjaGFydF9oZWlnaHQgLyAyKSAtIG1hcmdpbikuYXR0cigieSIsIG1hcmdpbiAvIDIuNCkuYXR0cigidHJhbnNmb3JtIiwgInJvdGF0ZSgtOTApIikuYXR0cigidGV4dC1hbmNob3IiLCAibWlkZGxlIikudGV4dCgiSXNzdWVzIG9wZW5lZCIpOwogICAgICBzdmcuYXBwZW5kKCJ0ZXh0IikuYXR0cigiY2xhc3MiLCAibGFiZWwiKS5hdHRyKCJ4IiwgY2hhcnRfd2lkdGggLyAyICsgbWFyZ2luKS5hdHRyKCJ5IiwgY2hhcnRfaGVpZ2h0ICsgbWFyZ2luICogMS43KS5hdHRyKCJ0ZXh0LWFuY2hvciIsICJtaWRkbGUiKS50ZXh0KCJEYXlzIik7CiAgICAgIHN2Zy5hcHBlbmQoInRleHQiKS5hdHRyKCJjbGFzcyIsICJ0aXRsZSIpLmF0dHIoIngiLCBjaGFydF93aWR0aCAvIDIgKyBtYXJnaW4pLmF0dHIoInkiLCA0MCkuYXR0cigidGV4dC1hbmNob3IiLCAibWlkZGxlIikudGV4dCgiSXNzdWVzIGluIHRoZSBwYXN0IDEgd2VlayIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["chart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <svg></svg>\n  </div>\n</template>\n\n<script>\nimport * as d3 from \"d3\";\nimport _ from \"lodash\";\nexport default {\n  props: [\"issues\"],\n  data() {\n    return {\n      chart: null\n    };\n  },\n  watch: {\n    issues(val) {\n      if (this.chart != null) this.chart.remove();\n      this.renderChart(val);\n    }\n  },\n  methods: {\n    renderChart(issues_val) {\n      const margin = 60;\n      const svg_width = 1000;\n      const svg_height = 600;\n      const chart_width = 1000 - 2 * margin;\n      const chart_height = 600 - 2 * margin;\n      const svg = d3\n        .select(\"svg\")\n        .attr(\"width\", svg_width)\n        .attr(\"height\", svg_height);\n      this.chart = svg\n        .append(\"g\")\n        .attr(\"transform\", `translate(${margin}, ${margin})`);\n      const yScale = d3\n        .scaleLinear()\n        .range([chart_height, 0])\n        .domain([0, _.maxBy(issues_val, \"issues\").issues]);\n      this.chart\n        .append(\"g\")\n        .call(d3.axisLeft(yScale).ticks(_.maxBy(issues_val, \"issues\").issues));\n      const xScale = d3\n        .scaleBand()\n        .range([0, chart_width])\n        .domain(issues_val.map(s => s.day))\n        .padding(0.2);\n      this.chart\n        .append(\"g\")\n        .attr(\"transform\", `translate(0, ${chart_height})`)\n        .call(d3.axisBottom(xScale));\n      const barGroups = this.chart\n        .selectAll(\"rect\")\n        .data(issues_val)\n        .enter();\n      barGroups\n        .append(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", g => xScale(g.day))\n        .attr(\"y\", g => yScale(g.issues))\n        .attr(\"height\", g => chart_height - yScale(g.issues))\n        .attr(\"width\", xScale.bandwidth())\n        .on(\"mouseenter\", function(actual, i) {\n          d3.select(this)\n            .transition()\n            .duration(300)\n            .attr(\"opacity\", 0.6)\n            .attr(\"x\", a => xScale(a.day) - 5)\n            .attr(\"width\", xScale.bandwidth() + 10);\n          barGroups\n            .append(\"text\")\n            .attr(\"class\", \"value\")\n            .attr(\"x\", a => xScale(a.day) + xScale.bandwidth() / 2)\n            .attr(\"y\", a => yScale(a.issues) - 20)\n            .attr(\"text-anchor\", \"middle\")\n            .text((a, idx) => {\n              return idx !== i ? \"\" : `${a.issues} issues`;\n            });\n        })\n        .on(\"mouseleave\", function() {\n          d3.selectAll(\".issues\").attr(\"opacity\", 1);\n          d3.select(this)\n            .transition()\n            .duration(300)\n            .attr(\"opacity\", 1)\n            .attr(\"x\", a => xScale(a.day))\n            .attr(\"width\", xScale.bandwidth());\n          svg.selectAll(\".value\").remove();\n        });\n      svg\n        .append(\"text\")\n        .attr(\"class\", \"label\")\n        .attr(\"x\", -(chart_height / 2) - margin)\n        .attr(\"y\", margin / 2.4)\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(\"Issues opened\");\n      svg\n        .append(\"text\")\n        .attr(\"class\", \"label\")\n        .attr(\"x\", chart_width / 2 + margin)\n        .attr(\"y\", chart_height + margin * 1.7)\n        .attr(\"text-anchor\", \"middle\")\n        .text(\"Days\");\n      svg\n        .append(\"text\")\n        .attr(\"class\", \"title\")\n        .attr(\"x\", chart_width / 2 + margin)\n        .attr(\"y\", 40)\n        .attr(\"text-anchor\", \"middle\")\n        .text(\"Issues in the past 1 week\");\n    }\n  }\n};\n</script>\n\n/* eslint-disable eol-last */\n"],"sourceRoot":"src/components"}]}