{"remainingRequest":"/Users/jakobbach/Documents/bzmining/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jakobbach/Documents/bzmining/client/src/views/Statistics.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jakobbach/Documents/bzmining/client/src/views/Statistics.vue","mtime":1590703616954},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jakobbach/Documents/bzmining/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBhbWNoYXJ0c3dlZWtkYXlob3VyIGZyb20gJ0AvY29tcG9uZW50cy9hbWNoYXJ0c3dlZWtkYXlob3VyLnZ1ZSc7CmltcG9ydCBhbWNoYXJ0c3RpbWVzZXJpZXNjaGFydCBmcm9tICdAL2NvbXBvbmVudHMvYW1jaGFydHN0aW1lc2VyaWVzY2hhcnQudnVlJzsKaW1wb3J0IGFtY2hhcnRzY2F0ZWdvcnlsZW5ndGggZnJvbSAnQC9jb21wb25lbnRzL2FtY2hhcnRzY2F0ZWdvcnlsZW5ndGgudnVlJzsKaW1wb3J0IE5hdmlnYXRpb24gZnJvbSAnQC9jb21wb25lbnRzL25hdmlnYXRpb24udnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYXBwJywKICBjb21wb25lbnRzOiB7CiAgICBhbWNoYXJ0c3RpbWVzZXJpZXNjaGFydCwKICAgIGFtY2hhcnRzd2Vla2RheWhvdXIsCiAgICBhbWNoYXJ0c2NhdGVnb3J5bGVuZ3RoLAogICAgTmF2aWdhdGlvbiwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZXJyb3JlZDogZmFsc2UsCiAgICAgIGFydGljbGVzbmV3OiBbXSwKICAgICAgd2Vla2RheWhvdXI6IFtdLAogICAgICBzZWFyY2h0ZXJtOiAnJywKICAgICAgYXV0aG9ydGVybTogJycsCiAgICAgIHRpdGxldGVybTogJycsCiAgICAgIHN0YXJ0RGF0ZTogbnVsbCwKICAgICAgc2hvd2RwYTogdHJ1ZSwKICAgICAgYXBpdXJsOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGVSYW5nZSgpIHsKICAgICAgY29uc3Qgc3RhcnREYXRlID0gbW9tZW50KCcyMDIwLTAyLTA4Jyk7CiAgICAgIGNvbnN0IGVuZERhdGUgPSBtb21lbnQoKTsKICAgICAgY29uc3QgZGF0ZXMgPSBbXTsKICAgICAgd2hpbGUgKHN0YXJ0RGF0ZS5pc1NhbWVPckJlZm9yZShlbmREYXRlKSkgewogICAgICAgIGRhdGVzLnB1c2goewogICAgICAgICAgZGF0ZTogc3RhcnREYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpLAogICAgICAgICAgY291bnQ6IDAsCiAgICAgICAgICBjb3VudGRwYTogMCwKICAgICAgICB9KTsKICAgICAgICBzdGFydERhdGUuYWRkKDEsICdkYXlzJyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGRhdGVzOwogICAgfSwKICAgIGdldEFydGljbGVzKCkgewogICAgICBjb25zdCBhcGl1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSTsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgY29uc3QgcGF0aCA9IGAke2FwaXVybH0vYXJ0aWNsZXM/cz0ke3RoaXMuc2VhcmNodGVybX0mYXV0aG9yPSR7dGhpcy5hdXRob3J0ZXJtfSZ0aXRsZT0ke3RoaXMudGl0bGV0ZXJtfWA7CiAgICAgIHRoaXMuc3RhcnREYXRlID0gbW9tZW50KCcyMDIwLTAyLTA4JykuZm9ybWF0KCdZWVlZLU1NLUREJyk7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldChwYXRoKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHRoaXMuZ2V0RGF0ZVJhbmdlKCk7CiAgICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goKGVsZW1lbnQpID0+IHsKICAgICAgICAgICAgY29uc3Qga2V5ID0gbW9tZW50KGVsZW1lbnQuZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7CiAgICAgICAgICAgIGNvbnN0IG9iaiA9IHBheWxvYWQuZmlsdGVyKChvKSA9PiBvLmRhdGUgPT09IGtleSlbMF07CiAgICAgICAgICAgIGlmICgodHlwZW9mIG9iaiAhPT0gJ3VuZGVmaW5lZCcpICYmIChvYmogIT09IG51bGwpKSB7CiAgICAgICAgICAgICAgb2JqLmNvdW50ID0gZWxlbWVudC5jb3VudDsKICAgICAgICAgICAgICBpZiAodGhpcy5zaG93ZHBhKSB7CiAgICAgICAgICAgICAgICBvYmouY291bnRkcGEgPSBlbGVtZW50LmNvdW50ZHBhOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBwYXlsb2FkLnNlYXJjaHRlcm0gPSB0aGlzLnNlYXJjaHRlcm07CiAgICAgICAgICB0aGlzLmFydGljbGVzbmV3ID0gcGF5bG9hZDsKICAgICAgICB9KQogICAgICAgIC8vIC5jYXRjaCgoZXJyb3IpID0+IHsgY29uc29sZS5lcnJvcihlcnJvcik7IH0pOwogICAgICAgIC5maW5hbGx5KHRoaXMubG9hZGluZyA9IGZhbHNlKTsKICAgIH0sCiAgICBnZXRXZWVrZGF5SG91ckxlbmd0aCgpIHsKICAgICAgY29uc3QgYXBpdXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUEk7CiAgICAgIGNvbnN0IHBhdGggPSBgJHthcGl1cmx9L2FydGljbGVzL2hvdXIvbGVuZ3RoYDsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KHBhdGgpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLndlZWtkYXlob3VyID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgIC8vIC5jYXRjaCgoZXJyb3IpID0+IHsgY29uc29sZS5lcnJvcihlcnJvcik7IH0pOwogICAgfSwKICAgIGdldENhdGVnb3J5TGVuZ3RoKCkgewogICAgICBjb25zdCBhcGl1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSTsKICAgICAgY29uc3QgcGF0aCA9IGAke2FwaXVybH0vYXJ0aWNsZXMvY2F0ZWdvcnkvbGVuZ3RoYDsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KHBhdGgpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLmNhdGVnb3J5bGVuZ3RoID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgIC8vIC5jYXRjaCgoZXJyb3IpID0+IHsgY29uc29sZS5lcnJvcihlcnJvcik7IH0pOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEFydGljbGVzKCk7CiAgICB0aGlzLmdldFdlZWtkYXlIb3VyTGVuZ3RoKCk7CiAgICB0aGlzLmdldENhdGVnb3J5TGVuZ3RoKCk7CiAgfSwKfTsK"},{"version":3,"sources":["Statistics.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Statistics.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <body>\n      <Navigation></Navigation>\n      <div id=\"app\">\n        <form action=\"#\" @submit.prevent=\"getArticles\">\n          <div class=\"form-group\">\n            <input\n              type=\"text\"\n              placeholder=\"Gib hier einen Suchbegriff fÃ¼r den Artikelinhalt ein!\"\n              v-model=\"searchterm\"\n              class=\"\"\n            ><br/>\n            <input\n              type=\"text\"\n              placeholder=\"Gib hier einen Autor ein!\"\n              v-model=\"authorterm\"\n              class=\"\"\n            ><br/>\n            <input\n              type=\"text\"\n              placeholder=\"Gib hier einen Titel ein!\"\n              v-model=\"titleterm\"\n              class=\"\"\n            ><br/>\n            <div class=\"form-check\">\n            <label class=\"form-check-label\">\n              <input type=\"checkbox\" id=\"checkbox\" class=\"form-check-input\"\n              v-model=\"showdpa\" @change=\"getArticles\">\n              Zeige dpa-Artikel an?\n            </label>\n            </div>\n            <p>\n            <input type=\"submit\" value=\"Absenden\">\n            </p>\n          </div>\n        </form>\n        <div class=\"alert alert-info\" v-show=\"loading\">Lade...</div>\n        <div class=\"alert alert-danger\" v-show=\"errored\">Es trat ein Fehler auf.</div>\n        <amchartstimeserieschart :articlesattribute=\"articlesnew\"></amchartstimeserieschart>\n        <amchartsweekdayhour :articlesattribute=\"weekdayhour\"></amchartsweekdayhour>\n        <amchartscategorylength :articlesattribute=\"categorylength\"></amchartscategorylength>\n      </div>\n  </body>\n</template>\n\n<script>\n\nimport axios from 'axios';\nimport moment from 'moment';\nimport amchartsweekdayhour from '@/components/amchartsweekdayhour.vue';\nimport amchartstimeserieschart from '@/components/amchartstimeserieschart.vue';\nimport amchartscategorylength from '@/components/amchartscategorylength.vue';\nimport Navigation from '@/components/navigation.vue';\n\nexport default {\n  name: 'app',\n  components: {\n    amchartstimeserieschart,\n    amchartsweekdayhour,\n    amchartscategorylength,\n    Navigation,\n  },\n  data() {\n    return {\n      loading: false,\n      errored: false,\n      articlesnew: [],\n      weekdayhour: [],\n      searchterm: '',\n      authorterm: '',\n      titleterm: '',\n      startDate: null,\n      showdpa: true,\n      apiurl: null,\n    };\n  },\n  methods: {\n    getDateRange() {\n      const startDate = moment('2020-02-08');\n      const endDate = moment();\n      const dates = [];\n      while (startDate.isSameOrBefore(endDate)) {\n        dates.push({\n          date: startDate.format('YYYY-MM-DD'),\n          count: 0,\n          countdpa: 0,\n        });\n        startDate.add(1, 'days');\n      }\n      return dates;\n    },\n    getArticles() {\n      const apiurl = process.env.VUE_APP_API;\n      this.loading = true;\n      const path = `${apiurl}/articles?s=${this.searchterm}&author=${this.authorterm}&title=${this.titleterm}`;\n      this.startDate = moment('2020-02-08').format('YYYY-MM-DD');\n      axios\n        .get(path)\n        .then((response) => {\n          const payload = this.getDateRange();\n          response.data.forEach((element) => {\n            const key = moment(element.date).format('YYYY-MM-DD');\n            const obj = payload.filter((o) => o.date === key)[0];\n            if ((typeof obj !== 'undefined') && (obj !== null)) {\n              obj.count = element.count;\n              if (this.showdpa) {\n                obj.countdpa = element.countdpa;\n              }\n            }\n          });\n          payload.searchterm = this.searchterm;\n          this.articlesnew = payload;\n        })\n        // .catch((error) => { console.error(error); });\n        .finally(this.loading = false);\n    },\n    getWeekdayHourLength() {\n      const apiurl = process.env.VUE_APP_API;\n      const path = `${apiurl}/articles/hour/length`;\n      axios\n        .get(path)\n        .then((response) => {\n          this.weekdayhour = response.data;\n        });\n    // .catch((error) => { console.error(error); });\n    },\n    getCategoryLength() {\n      const apiurl = process.env.VUE_APP_API;\n      const path = `${apiurl}/articles/category/length`;\n      axios\n        .get(path)\n        .then((response) => {\n          this.categorylength = response.data;\n        });\n    // .catch((error) => { console.error(error); });\n    },\n  },\n  mounted() {\n    this.getArticles();\n    this.getWeekdayHourLength();\n    this.getCategoryLength();\n  },\n};\n</script>\n<!--@import '../public/new.min.css';-->\n<style>\n@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');\n@import url('https://fonts.googleapis.com/css?family=Sanchez&display=swap');\n@import url('https://fonts.googleapis.com/css?family=Arimo&display=swap');\nbody {\n  display:block;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top:60px;\n  color: #2f2f2f;\n  font-family: \"Roboto\";\n  font-size: 20px;\n  line-height: 1.7;\n  overflow-wrap: break-word;\n}\n#app {\n  text-align: center;\n  color: #2c3e50;\n}\ninput {\n  width:100%;\n  text-align:center;\n}\n</style>\n\n/* eslint-disable */\n"]}]}